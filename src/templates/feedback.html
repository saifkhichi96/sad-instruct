{% extends "_layouts/base.html" %}

{% block title %}SID Dataset Scenario Evaluation{% endblock %}

{% block head %}
<style>
    .card {
        border: 1px solid #ccc;
        border-radius: 32px;
        background-color: #f9f9f9;
    }
</style>
{% endblock %}

{% block content %}
<div class="container p-4">
    <h1>SID Dataset Scenario Evaluation</h1>
    <p>The following data was automatically generated by a Large Language Model (LLM). Each instance lists a scenario/task that a person may want to perform in a given environment, together with a list of objects present in the environment. The objects that the LLM believes will be used in this scenario are pre-selected. Please review the list of objects and check/uncheck the objects that you think are relevant/irrelevant to the scenario. Once you are done, click the "Submit" button to submit your feedback.</p>
    <p><b>3RScan Sample ID:</b> {{ data['scan'] }}</p>
    <p><b>Status:</b> {{ num_done }} / {{ num_total }} items done</p>
    <form method="post" action="{{ url_for('submit') }}">
        <input type="hidden" name="key" value="{{ key }}">
        <div class="card p-4 mb-4">
            <h2>{{ data['scenario'] }}</h2>
            <span>
                {% for o in data['objects'] %}
                {% set oid = loop.index0 %}
                <label>
                    {% set checked = 'checked' if o['selected'] else '' %}
                    <input type="checkbox" name="obj-{{ oid }}" value="{{ o['label'] }}" {{ checked }}>
                    {{ o['label'] }}
                </label>
                {% endfor %}
            </span>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
{% endblock %}